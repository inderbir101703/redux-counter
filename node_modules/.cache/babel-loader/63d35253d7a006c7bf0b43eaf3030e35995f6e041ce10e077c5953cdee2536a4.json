{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  status: \"logout\",\n  notification: null\n};\nconst ui = createSlice({\n  name: \"ui\",\n  initialState,\n  reducers: {\n    logOut(state) {\n      return {\n        ...state,\n        status: \"hide\"\n      };\n    },\n    logIn(state) {\n      return {\n        ...state,\n        status: \"show\"\n      };\n    },\n    showNotifications(state, action) {\n      return {\n        ...state,\n        notification: {\n          status: action.payload.status,\n          title: action.payload.title,\n          message: action.payload.message\n        }\n      };\n    },\n    replaceCart(state, action) {\n      state.items = action.payload.items;\n    }\n  }\n});\nexport const fetchData = () => {\n  return async dispatch => {\n    const getData = async () => {\n      const response = await fetch('https://redux-35f03-default-rtdb.firebaseio.com/cart.json');\n      if (!response.ok) {\n        throw new Error('something went wrong');\n      }\n      return response.json();\n    };\n    try {\n      const items = await getData();\n      dispatch(replaceCart({\n        items\n      }));\n    } catch (error) {\n      dispatch(showNotifications({\n        status: 'error',\n        title: 'ERROR!',\n        message: 'fetching data data failed'\n      }));\n    }\n  };\n};\nexport const sendCartData = items => {\n  return async dispatch => {\n    console.log('in rreturnung');\n    dispatch(ui.actions.showNotifications({\n      status: 'pending',\n      title: 'sending...',\n      message: 'sending cart data'\n    }));\n    try {\n      await sendRequest(items);\n      dispatch(showNotifications({\n        status: 'success',\n        title: 'SUCCESS!',\n        message: 'Sent Cart Data successfully'\n      }));\n    } catch (error) {\n      dispatch(showNotifications({\n        status: 'error',\n        title: 'ERROR!',\n        message: 'Sending cart data failed'\n      }));\n    }\n  };\n};\nexport const sendRequest = async items => {\n  const response = await fetch('https://redux-35f03-default-rtdb.firebaseio.com/cart.json', {\n    method: 'PUT',\n    body: JSON.stringify(items)\n  });\n  if (!response.ok) {\n    throw new Error('Sending cart data failed');\n  }\n};\nexport const {\n  logOut,\n  logIn,\n  showNotifications\n} = ui.actions;\nexport const authReducers = ui.reducer;","map":{"version":3,"names":["createSlice","initialState","status","notification","ui","name","reducers","logOut","state","logIn","showNotifications","action","payload","title","message","replaceCart","items","fetchData","dispatch","getData","response","fetch","ok","Error","json","error","sendCartData","console","log","actions","sendRequest","method","body","JSON","stringify","authReducers","reducer"],"sources":["/Users/indsingh11/Desktop/react-master-2024/reduxtoolkit/src/store/ui-slice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\n\nconst initialState={status:\"logout\",notification:null}\nconst ui=createSlice({\n    name:\"ui\",\n    initialState,\n    reducers:{\n        logOut(state){\n           return {...state,status: \"hide\" }\n        },\n        logIn(state){\n            return  {...state,status: \"show\"}\n        },\n        showNotifications(state,action){\n            return {\n             ...state,\n             notification:{\n                status:action.payload.status,\n                title:action.payload.title,\n                message:action.payload.message\n             }\n            }\n        },\n        replaceCart(state,action){\n          state.items=action.payload.items\n        }\n    }\n})\n\n\nexport const fetchData=()=>{\n\n return async (dispatch)=>{\n    const getData=async ()=>{\n\n        \n        const response=await fetch('https://redux-35f03-default-rtdb.firebaseio.com/cart.json')\n        if(!response.ok){\n            throw new Error('something went wrong')\n        }\n        return response.json()\n\n    }\n\n\n    try{\n      const items=await getData()\n      dispatch(replaceCart({items}))\n    }\n    catch(error){\n        dispatch(showNotifications({\n            status:'error',\n            title:'ERROR!',\n            message:'fetching data data failed'\n           }))\n    }\n }\n   \n\n} \n\n\nexport const sendCartData= (items)=>{\n\n    return  async (dispatch)=>{\nconsole.log('in rreturnung')\n        dispatch(ui.actions.showNotifications(\n            {\n                status:'pending',\n                title:'sending...',\n                message:'sending cart data'\n               }))\ntry{\n       await sendRequest(items)\n               dispatch(showNotifications({\n                status:'success',\n                title:'SUCCESS!',\n                message:'Sent Cart Data successfully'\n               }))}\n               catch(error){\n                dispatch(showNotifications({\n                    status:'error',\n                    title:'ERROR!',\n                    message:'Sending cart data failed'\n                   }))}\n               }\n              \n    }\n\n\nexport const  sendRequest= async (items)=>{\n    const response=await fetch('https://redux-35f03-default-rtdb.firebaseio.com/cart.json',{\n        method:'PUT',\n        body:JSON.stringify(items)\n      })\n      if(!response.ok){\n      throw new Error('Sending cart data failed')\n      }\n      \n}\nexport const {logOut,logIn,showNotifications} =ui.actions\nexport const authReducers=ui.reducer"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}