{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  totalItems: 0,\n  items: []\n};\nconst cartStore = createSlice({\n  name: \"cart\",\n  initialState,\n  reducers: {\n    addToCart(state, action) {\n      console.log(state.items, action);\n      const repeated = state.items.findIndex(element => element.id === action.payload.id);\n      if (repeated >= 0) {\n        state.items[repeated].quantity = state.items[repeated].quantity + 1;\n        return state;\n      }\n      return {\n        totalItems: state.totalItems + 1,\n        items: [...state.items, {\n          ...action.payload,\n          quantity: 1\n        }]\n      };\n    },\n    decrement(state, action) {\n      const index = state.items.findIndex(item => item.id === action.id);\n      if (state.items && state.items[index].quantity === 1) {\n        return {\n          totalItems: state.totalItems - 1,\n          items: state.items.filter(item => item.id != action.id)\n        };\n      }\n      state.items[index].quantity = state.items[index].quantity - 1;\n      return state;\n    }\n  }\n});\nexport const {\n  addToCart,\n  decrement\n} = cartStore.actions;\nexport const cartReducers = cartStore.reducer;","map":{"version":3,"names":["createSlice","initialState","totalItems","items","cartStore","name","reducers","addToCart","state","action","console","log","repeated","findIndex","element","id","payload","quantity","decrement","index","item","filter","actions","cartReducers","reducer"],"sources":["/Users/indsingh11/Desktop/react-master-2024/reduxtoolkit/src/store/cartStore.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\n\n\nconst initialState={\n    totalItems:0,\n    items:[]\n}\nconst cartStore=createSlice({\n    name:\"cart\",\n    initialState,\n    reducers:{\n        addToCart(state,action){\n            console.log(state.items,action)\n            const repeated=state.items.findIndex((element)=>element.id===action.payload.id)\n\n            if(repeated>=0){\n                state.items[repeated].quantity=state.items[repeated].quantity+1\n               return state\n            }\n\n            return {\n                totalItems:state.totalItems+1,\n                items:[...state.items,{...action.payload,quantity:1}]\n             }\n        },\n        decrement(state,action){\n const index=state.items.findIndex((item)=>item.id===action.id)\n if(state.items && state.items[index].quantity===1)\n           { return {\n                totalItems:state.totalItems-1,\n                items:state.items.filter((item)=>item.id!=action.id)\n             }}\n    \n             state.items[index].quantity=state.items[index].quantity-1\n               return state   \n\n        }\n    }\n})\n\nexport const {addToCart,decrement} = cartStore.actions\n\nexport const cartReducers= cartStore.reducer"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAI9C,MAAMC,YAAY,GAAC;EACfC,UAAU,EAAC,CAAC;EACZC,KAAK,EAAC;AACV,CAAC;AACD,MAAMC,SAAS,GAACJ,WAAW,CAAC;EACxBK,IAAI,EAAC,MAAM;EACXJ,YAAY;EACZK,QAAQ,EAAC;IACLC,SAASA,CAACC,KAAK,EAACC,MAAM,EAAC;MACnBC,OAAO,CAACC,GAAG,CAACH,KAAK,CAACL,KAAK,EAACM,MAAM,CAAC;MAC/B,MAAMG,QAAQ,GAACJ,KAAK,CAACL,KAAK,CAACU,SAAS,CAAEC,OAAO,IAAGA,OAAO,CAACC,EAAE,KAAGN,MAAM,CAACO,OAAO,CAACD,EAAE,CAAC;MAE/E,IAAGH,QAAQ,IAAE,CAAC,EAAC;QACXJ,KAAK,CAACL,KAAK,CAACS,QAAQ,CAAC,CAACK,QAAQ,GAACT,KAAK,CAACL,KAAK,CAACS,QAAQ,CAAC,CAACK,QAAQ,GAAC,CAAC;QAChE,OAAOT,KAAK;MACf;MAEA,OAAO;QACHN,UAAU,EAACM,KAAK,CAACN,UAAU,GAAC,CAAC;QAC7BC,KAAK,EAAC,CAAC,GAAGK,KAAK,CAACL,KAAK,EAAC;UAAC,GAAGM,MAAM,CAACO,OAAO;UAACC,QAAQ,EAAC;QAAC,CAAC;MACvD,CAAC;IACN,CAAC;IACDC,SAASA,CAACV,KAAK,EAACC,MAAM,EAAC;MAC9B,MAAMU,KAAK,GAACX,KAAK,CAACL,KAAK,CAACU,SAAS,CAAEO,IAAI,IAAGA,IAAI,CAACL,EAAE,KAAGN,MAAM,CAACM,EAAE,CAAC;MAC9D,IAAGP,KAAK,CAACL,KAAK,IAAIK,KAAK,CAACL,KAAK,CAACgB,KAAK,CAAC,CAACF,QAAQ,KAAG,CAAC,EACvC;QAAE,OAAO;UACJf,UAAU,EAACM,KAAK,CAACN,UAAU,GAAC,CAAC;UAC7BC,KAAK,EAACK,KAAK,CAACL,KAAK,CAACkB,MAAM,CAAED,IAAI,IAAGA,IAAI,CAACL,EAAE,IAAEN,MAAM,CAACM,EAAE;QACtD,CAAC;MAAA;MAEDP,KAAK,CAACL,KAAK,CAACgB,KAAK,CAAC,CAACF,QAAQ,GAACT,KAAK,CAACL,KAAK,CAACgB,KAAK,CAAC,CAACF,QAAQ,GAAC,CAAC;MACvD,OAAOT,KAAK;IAEnB;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAACD,SAAS;EAACW;AAAS,CAAC,GAAGd,SAAS,CAACkB,OAAO;AAEtD,OAAO,MAAMC,YAAY,GAAEnB,SAAS,CAACoB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}